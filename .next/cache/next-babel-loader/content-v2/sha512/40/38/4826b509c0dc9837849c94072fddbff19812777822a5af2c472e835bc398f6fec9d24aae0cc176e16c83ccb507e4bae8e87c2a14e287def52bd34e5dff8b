{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport RegConfirmation from '../../ImportedMedicineForm/RegConformation/index';\nimport styles from './PapForm.module.scss';\n\nfunction PapForm(props) {\n  const {\n    0: modal,\n    1: setModal\n  } = useState(false);\n  const {\n    0: papRegisterData,\n    1: setPapRegisterData\n  } = useState({\n    userId: \"23\",\n    name: \"\",\n    phone: \"\",\n    email: \"\",\n    medicineDetails: \"\",\n    quantity: \"\",\n    callTime: \"\",\n    message: \"\",\n    status: 0\n  });\n\n  const toggle = () => {\n    setModal({\n      modal: !modal\n    });\n  };\n\n  const onChangeForm = (value, key) => {\n    let data = papRegisterData;\n    data[key] = value;\n    setPapRegisterData(data);\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    let url = \"http://180.151.69.138:2260/api/v1/pap\";\n    let data = papRegisterData;\n    let res = await httpPostRequest(url, data);\n    console.log(res);\n\n    if (res.status === 200) {\n      toggle();\n    }\n\n    setPapRegisterData({\n      papRegisterData: {\n        name: '',\n        medicineDetails: '',\n        phone: '',\n        quantity: '',\n        email: '',\n        callTime: '',\n        message: ''\n      }\n    });\n  };\n\n  const httpPostRequest = async (url, body) => {\n    console.log(body);\n    let result = await fetch(url, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(body)\n    });\n    return await result;\n  };\n\n  return __jsx(\"div\", {\n    className: styles.registerBox\n  }, __jsx(\"div\", {\n    className: styles.patientRegister\n  }, __jsx(\"b\", null, \"Register for Patient Assistance Programme\")), __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    method: \"post\"\n  }, __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-md-4\"\n  }, __jsx(\"div\", {\n    className: styles.inputField\n  }, __jsx(\"div\", {\n    className: styles.registerLabel\n  }, __jsx(\"span\", null, \"Full Name\")), __jsx(\"input\", {\n    name: \"full_name\",\n    className: styles.registerField,\n    type: \"text\",\n    placeholder: \"Enter here\",\n    value: papRegisterData['name'],\n    onChange: e => onChangeForm(e.target.value, 'name'),\n    required: true\n  })), __jsx(\"div\", {\n    className: styles.inputField\n  }, __jsx(\"div\", {\n    className: styles.registerLabel\n  }, __jsx(\"span\", null, \"Medicine Details\")), __jsx(\"input\", {\n    name: \"medicine_details\",\n    className: styles.registerField,\n    type: \"text\",\n    placeholder: \"Enter here\",\n    value: papRegisterData['medicineDetails'],\n    onChange: e => onChangeForm(e.target.value, 'medicineDetails'),\n    required: true\n  }))), __jsx(\"div\", {\n    className: \"col-md-4\"\n  }, __jsx(\"div\", {\n    className: styles.inputField\n  }, __jsx(\"div\", {\n    className: styles.registerLabel\n  }, __jsx(\"span\", null, \"Phone Number\")), __jsx(\"input\", {\n    name: \"phone_number\",\n    className: styles.registerField,\n    type: \"text\",\n    placeholder: \"Enter here\",\n    value: papRegisterData['phone'],\n    onChange: e => onChangeForm(e.target.value, 'phone'),\n    required: true\n  })), __jsx(\"div\", {\n    className: styles.inputField\n  }, __jsx(\"div\", {\n    className: styles.registerLabel\n  }, __jsx(\"span\", null, \"Quantity\")), __jsx(\"input\", {\n    name: \"quantity\",\n    className: styles.registerField,\n    type: \"text\",\n    placeholder: \"Enter here\",\n    value: papRegisterData['quantity'],\n    onChange: e => onChangeForm(e.target.value, 'quantity'),\n    required: true\n  }))), __jsx(\"div\", {\n    className: \"col-md-4\"\n  }, __jsx(\"div\", {\n    className: styles.inputField\n  }, __jsx(\"div\", {\n    className: styles.registerLabel\n  }, __jsx(\"span\", null, \"Email\")), __jsx(\"input\", {\n    name: \"email\",\n    className: styles.registerField,\n    type: \"email\",\n    placeholder: \"Enter here\",\n    value: papRegisterData['email'],\n    onChange: e => onChangeForm(e.target.value, 'email'),\n    required: true\n  })), __jsx(\"div\", {\n    className: styles.inputField\n  }, __jsx(\"div\", {\n    className: styles.registerLabel\n  }, __jsx(\"span\", null, \"Preferable Call Time\")), __jsx(\"input\", {\n    name: \"call_time\",\n    className: styles.registerField,\n    type: \"text\",\n    value: papRegisterData['callTime'],\n    onChange: e => onChangeForm(e.target.value, 'callTime'),\n    placeholder: \"Enter here\",\n    required: true\n  })))), __jsx(\"div\", {\n    className: styles.inputField\n  }, __jsx(\"div\", {\n    className: styles.registerLabel\n  }, __jsx(\"span\", null, \"Message\")), __jsx(\"textarea\", {\n    name: \"message\",\n    className: styles.textField,\n    type: \"text\",\n    value: papRegisterData['message'],\n    onChange: e => onChangeForm(e.target.value, 'message'),\n    placeholder: \"Enter here\",\n    required: true\n  })), __jsx(\"button\", {\n    className: styles.btnRegister\n  }, __jsx(\"b\", null, \"REGISTER\"))), __jsx(RegConfirmation, {\n    modal: modal,\n    toggle: toggle\n  }));\n}\n\nexport default PapForm;","map":null,"metadata":{},"sourceType":"module"}