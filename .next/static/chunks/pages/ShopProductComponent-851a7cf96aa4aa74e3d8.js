_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[38],{"/mEk":function(t,e,n){t.exports={indication:"ShopProductComponent_indication__1PbAx"}},"1OyB":function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},"3zBw":function(t,e,n){"use strict";n.r(e);var r=n("q1tI"),c=n.n(r),a=n("Ogzj"),o=n("Fl18"),u=n("vDqi"),s=n.n(u),i=n("20a2"),l=n("w89z"),d=n("/MKj"),f=n("rcTn"),p=n("o0o1"),m=n.n(p),_=n("HaE+"),b=n("1OyB"),g=n("vuIU"),P=n("JX7q"),y=n("Ji7U"),h=n("md7G"),v=n("foSv"),O=n("rePB"),w=n("s9F9"),j=n.n(w),A=c.a.createElement;function N(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(v.a)(t);if(e){var c=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var k=function(t){Object(y.a)(n,t);var e=N(n);function n(){var t;return Object(b.a)(this,n),t=e.call(this),Object(O.a)(Object(P.a)(t),"componentDidMount",Object(_.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.userData){e.next=3;break}return e.next=3,t.props.dispatch(Object(l.b)(JSON.parse(localStorage.userData)));case 3:console.log("sdfsdfgsdfg",t.props),t.fetchProducts(),t.fetchCart();case 6:case"end":return e.stop()}}),e)})))),Object(O.a)(Object(P.a)(t),"fetchProducts",Object(_.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("".concat(f.c,"/product/allProducts?page=1&size=10&specialityProduct=&conditionProduct=")).then((function(e){t.setState({products:e.data.data.list})}));case 2:case"end":return e.stop()}}),e)})))),Object(O.a)(Object(P.a)(t),"fetchCart",Object(_.a)(m.a.mark((function e(){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.props.userDetail.userDetails,console.log(n,"get cart dsfgsdfgsdfg"),r="http://180.151.69.138:2258/api/v1/cart?userId=".concat(n.userId),e.next=5,s.a.get(r).then((function(e){t.props.dispatch(Object(l.a)(e.data.data.cartData)),t.setState({cartData:e.data.data.cartData})}));case 5:case"end":return e.stop()}}),e)})))),Object(O.a)(Object(P.a)(t),"addToCart",function(){var e=Object(_.a)(m.a.mark((function e(n){var r,c,a,o,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props.userDetail.userDetails,console.log(t.props,"add cart dsfgsdfgsdfg"),c={userId:r.userId,productId:n._id,quantity:1},a="".concat(f.c,"/cart"),e.next=6,s.a.post(a,c);case 6:if(200!==(o=e.sent).status){e.next=15;break}return console.log(o),t.fetchCart(),e.next=12,t.state.cartData.map((function(t){return t.productId===n._id?n._id:-1}));case 12:u=e.sent,console.log(u),t.setState({cartIndexes:u});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.state={products:[],cartData:[],cartIndexes:[]},t}return Object(g.a)(n,[{key:"render",value:function(){var t=this,e=this.state;e.cartProducts,e.cartDetails;return A("div",{className:"row"},A("div",{className:"col-md-12"},A("div",{className:"row"},A("div",{className:"col-md-6 ".concat(j.a.menu)},A("img",{src:"/menu.png"}),A("img",{src:"/list.png"}))),A("div",{className:"row"},this.state.products.map((function(e,n){var r,c=e.id,a=e.medicineName,o=e.manufacturer,u=e.price,s=e.discountPrice,i=e.PAP,l=e.discountPercentage;return A("div",{className:"col-md-4",key:n},A("div",{className:j.a.bottom},A("div",{className:j.a.image,onClick:function(){return t.props.router.push("/SingleProduct")}},A("div",{className:j.a.offerBadge},A("b",null,l,"%")),A("img",{src:"/product-3.png"})),A("div",{className:j.a.category},A("span",null,"Diabetes"),A("div",{className:j.a.right},A("span",null,e.packingSize))),A("b",{className:j.a.name},a),i&&A("img",{className:j.a.prescriptionImg,src:"/prescription.png"}),A("br",null),A("span",{className:j.a.company},"Manufacturer: ",o),A("hr",null),A("b",{className:j.a.discountPrice},"\u20b9 ",(u-s).toFixed(2)),A("span",{className:j.a.actualPrice},"MRP \u20b9 ",u),A("div",{className:j.a.right},null!==(r=t.state.cartIndexes)&&void 0!==r&&r.includes(c)?A("button",{key:c,className:j.a.btnAdded},"\u2713"):A("button",{key:c,onClick:function(){return t.addToCart(e)},className:j.a.btnAdd},"+"))))})))))}}]),n}(c.a.Component),x=c.a.createElement;var D=function(){var t=Object(i.useRouter)(),e=Object(d.b)(),n=Object(d.c)((function(t){return t.auth}));return x(k,{dispatch:e,router:t,userDetail:n})},S=n("/mEk"),I=n.n(S),C=c.a.createElement;var E=function(){var t=Object(i.useRouter)();return C("div",null,C("div",{className:"container"},C("div",{className:"col-md-12 ".concat(I.a.indication)},C("br",null),C("span",{onClick:function(){return t.push("/")}},"Home"),C("span",null," > All Products"),C("br",null),C("b",null,"Products"),C("hr",null)),C(D,null)))},B=c.a.createElement;e.default=function(){return B("div",null,B(a.a,null),B(E,null),B(o.a,null))}},"52n1":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ShopProductComponent",function(){return n("3zBw")}])},Ji7U:function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,"a",(function(){return c}))},foSv:function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return r}))},md7G:function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,"a",(function(){return a}));var c=n("JX7q");function a(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?Object(c.a)(t):e}},s9F9:function(t,e,n){t.exports={categoryTitle:"AllProduct_categoryTitle__215ow",image:"AllProduct_image__2MNqb",bottom:"AllProduct_bottom__1Z2nC",category:"AllProduct_category__2Aea7",company:"AllProduct_company__5w6wZ",right:"AllProduct_right__2nkTY",name:"AllProduct_name__16MVJ",discountPrice:"AllProduct_discountPrice__hnJY3",actualPrice:"AllProduct_actualPrice__24lne",btnAdd:"AllProduct_btnAdd__3baZl",btnAdded:"AllProduct_btnAdded__QR_A9",btnView:"AllProduct_btnView__3uFJo",categoryBorder:"AllProduct_categoryBorder__2OJ3U",offerBadge:"AllProduct_offerBadge__2ghsD",menu:"AllProduct_menu__9xEZH",sortDropdown:"AllProduct_sortDropdown__2oPGX",prescriptionImg:"AllProduct_prescriptionImg__37kB1",customCheckbox:"AllProduct_customCheckbox__2oIDA",checkboxLabel:"AllProduct_checkboxLabel__mPUsd"}},vuIU:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return c}))}},[["52n1",0,1,2,3,4]]]);