{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport RegConfirmation from '../../ImportedMedicineForm/RegConformation/index';\nimport styles from './PapForm.module.scss';\nimport { medplans_url } from '../../../apiVariables';\n\nfunction PapForm(props) {\n  var _useState = useState(false),\n      modal = _useState[0],\n      setModal = _useState[1];\n\n  var _useState2 = useState({\n    userId: \"23\",\n    name: \"\",\n    phone: \"\",\n    email: \"\",\n    medicineDetails: \"\",\n    quantity: \"\",\n    callTime: \"\",\n    message: \"\",\n    status: 0\n  }),\n      papRegisterData = _useState2[0],\n      setPapRegisterData = _useState2[1];\n\n  var toggle = function toggle() {\n    setModal({\n      modal: !modal\n    });\n  };\n\n  var onChangeForm = function onChangeForm(e) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value;\n    setPapRegisterData(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, _defineProperty({}, name, value));\n    });\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var url, data, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              url = \"\".concat(medplans_url, \"/pap\");\n              data = papRegisterData;\n              _context.next = 5;\n              return httpPostRequest(url, data);\n\n            case 5:\n              res = _context.sent;\n              console.log(res);\n\n              if (res.status === 200) {\n                toggle();\n              }\n\n              setPapRegisterData({\n                papRegisterData: {\n                  name: '',\n                  medicineDetails: '',\n                  phone: '',\n                  quantity: '',\n                  email: '',\n                  callTime: '',\n                  message: ''\n                }\n              });\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var httpPostRequest = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(url, body) {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              console.log(body);\n              _context2.next = 3;\n              return fetch(url, {\n                method: 'POST',\n                headers: {\n                  'Accept': 'application/json',\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(body)\n              });\n\n            case 3:\n              result = _context2.sent;\n              _context2.next = 6;\n              return result;\n\n            case 6:\n              return _context2.abrupt(\"return\", _context2.sent);\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function httpPostRequest(_x2, _x3) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    className: styles.registerBox\n  }, __jsx(\"div\", {\n    className: styles.patientRegister\n  }, __jsx(\"b\", null, \"Register for Patient Assistance Programme\")), __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    method: \"post\"\n  }, __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-md-4\"\n  }, __jsx(\"div\", {\n    className: styles.inputField\n  }, __jsx(\"div\", {\n    className: styles.registerLabel\n  }, __jsx(\"span\", null, \"Patient Name\")), __jsx(\"input\", {\n    name: \"name\",\n    className: styles.registerField,\n    type: \"text\",\n    placeholder: \"Enter here\",\n    value: papRegisterData['name'],\n    onChange: function onChange(e) {\n      return onChangeForm(e);\n    },\n    required: true\n  }))), __jsx(\"div\", {\n    className: \"col-md-4\"\n  }, __jsx(\"div\", {\n    className: styles.inputField\n  }, __jsx(\"div\", {\n    className: styles.registerLabel\n  }, __jsx(\"span\", null, \"Phone Number\")), __jsx(\"input\", {\n    name: \"phone\",\n    className: styles.registerField,\n    type: \"text\",\n    placeholder: \"Enter here\",\n    value: papRegisterData['phone'],\n    onChange: function onChange(e) {\n      return onChangeForm(e);\n    },\n    required: true\n  }))), __jsx(\"div\", {\n    className: \"col-md-4\"\n  }, __jsx(\"div\", {\n    className: styles.inputField\n  }, __jsx(\"div\", {\n    className: styles.registerLabel\n  }, __jsx(\"span\", null, \"Email\")), __jsx(\"input\", {\n    name: \"email\",\n    className: styles.registerField,\n    type: \"email\",\n    placeholder: \"Enter here\",\n    value: papRegisterData['email'],\n    onChange: function onChange(e) {\n      return onChangeForm(e);\n    },\n    required: true\n  })))), __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-md-4\"\n  }, __jsx(\"div\", {\n    className: styles.inputField\n  }, __jsx(\"div\", {\n    className: styles.registerLabel\n  }, __jsx(\"span\", null, \"Medicine Details\")), __jsx(\"input\", {\n    name: \"medicineDetails\",\n    className: styles.registerField,\n    type: \"text\",\n    placeholder: \"Enter here\",\n    value: papRegisterData['medicineDetails'],\n    onChange: function onChange(e) {\n      return onChangeForm(e);\n    },\n    required: true\n  }))), __jsx(\"div\", {\n    className: \"col-md-4\"\n  }, __jsx(\"div\", {\n    className: styles.inputField\n  }, __jsx(\"div\", {\n    className: styles.registerLabel\n  }, __jsx(\"span\", null, \"Quantity\")), __jsx(\"input\", {\n    name: \"quantity\",\n    className: styles.registerField,\n    type: \"text\",\n    placeholder: \"Enter here\",\n    value: papRegisterData['quantity'],\n    onChange: function onChange(e) {\n      return onChangeForm(e);\n    },\n    required: true\n  }))), __jsx(\"div\", {\n    className: \"col-md-4\"\n  }, __jsx(\"div\", {\n    className: styles.inputField\n  }, __jsx(\"div\", {\n    className: styles.registerLabel\n  }, __jsx(\"span\", null, \"Preferable Call Time\")), __jsx(\"input\", {\n    name: \"callTime\",\n    className: styles.registerField,\n    type: \"text\",\n    value: papRegisterData['callTime'],\n    onChange: function onChange(e) {\n      return onChangeForm(e);\n    },\n    placeholder: \"Enter here\",\n    required: true\n  })))), __jsx(\"div\", {\n    className: styles.inputField\n  }, __jsx(\"div\", {\n    className: styles.registerLabel\n  }, __jsx(\"span\", null, \"Message\")), __jsx(\"textarea\", {\n    name: \"message\",\n    className: styles.textField,\n    type: \"text\",\n    value: papRegisterData['message'],\n    onChange: function onChange(e) {\n      return onChangeForm(e);\n    },\n    placeholder: \"Enter here\",\n    required: true\n  })), __jsx(\"button\", {\n    className: styles.btnRegister\n  }, __jsx(\"b\", null, \"ENQUIRE\"))), __jsx(RegConfirmation, {\n    modal: modal,\n    toggle: toggle\n  }));\n}\n\nexport default PapForm;","map":null,"metadata":{},"sourceType":"module"}