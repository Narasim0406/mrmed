{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport OrderSummary from '../orderSummary/index';\nimport styles from './MedicineDetail.module.scss';\n\nfunction MedicineDetail() {\n  var _useState = useState([]),\n      cartProducts = _useState[0],\n      setCartProducts = _useState[1];\n\n  var _useState2 = useState(0),\n      total = _useState2[0],\n      setTotal = _useState2[1];\n\n  var _useState3 = useState(0),\n      savedAmount = _useState3[0],\n      setSavedAmount = _useState3[1];\n\n  var calculation = function calculation() {\n    document.getElementById('cart-count').innerText = cartProducts ? cartProducts.length : 0;\n    var total = cartProducts.reduce(function (prevValue, currentValue) {\n      return prevValue + currentValue.price;\n    }, 0);\n    var discount = cartProducts.reduce(function (prevValue, currentValue) {\n      return prevValue + currentValue.discountPrice;\n    }, 0);\n    setTotal(total);\n    setSavedAmount(discount);\n  };\n\n  useEffect(function () {\n    var cartProducts = JSON.parse(localStorage.getItem('cartList'));\n    setCartProducts(cartProducts);\n    setTimeout(function () {\n      calculation();\n    }, 0);\n  }, []);\n\n  var increaseQuantity = function increaseQuantity(id) {\n    var cp = cartProducts.map(function (cartProduct) {\n      if (cartProduct._id === id && cartProduct.qty < 3) {\n        cartProduct.qty += 1;\n      }\n\n      return cartProduct;\n    });\n    setCartProducts(cp);\n    setTimeout(function () {\n      calculation();\n    }, 0);\n  };\n\n  var decreaseQuantity = function decreaseQuantity(id) {\n    var cp = cartProducts.map(function (cartProduct) {\n      if (cartProduct._id === id && cartProduct.qty > 0) {\n        cartProduct.qty -= 1;\n      }\n\n      return cartProduct;\n    });\n    setCartProducts(cp);\n    setTimeout(function () {\n      calculation();\n    }, 0);\n  };\n\n  var removeFromCart = function removeFromCart(id) {\n    var rmCart = cartProducts.filter(function (prod) {\n      return prod._id !== id;\n    });\n    localStorage.setItem('cartList', JSON.stringify(rmCart));\n    setCartProducts(rmCart);\n    setTimeout(function () {\n      calculation();\n    }, 0);\n  };\n\n  return __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-md-8\"\n  }, cartProducts && cartProducts.length !== 0 ? cartProducts.map(function (product, ind) {\n    var _id = product._id,\n        medicineName = product.medicineName,\n        manufacturer = product.manufacturer,\n        price = product.price,\n        PAP = product.PAP,\n        discountPrice = product.discountPrice;\n    product.qty = product.qty > 0 ? product.qty : 0;\n    console.log();\n    return __jsx(\"div\", {\n      key: ind\n    }, __jsx(\"div\", {\n      className: \"row\"\n    }, __jsx(\"div\", {\n      className: \"col-md-3\"\n    }, __jsx(\"div\", {\n      className: styles.background\n    }, __jsx(\"img\", {\n      className: styles.img,\n      src: require('../../../assets/images/product-3.png')\n    }))), __jsx(\"div\", {\n      className: \"col-md-5\"\n    }, __jsx(\"div\", {\n      className: styles.category\n    }, __jsx(\"span\", null, \"Diabetes\")), __jsx(\"div\", {\n      className: styles.name\n    }, __jsx(\"b\", null, medicineName), PAP && // <Link to=\"/dashboard/papAssistance\">\n    __jsx(\"img\", {\n      className: styles.cartpiImg,\n      src: require('../../../assets/images/prescription.png')\n    }) // </Link> \n    ), __jsx(\"div\", null, __jsx(\"span\", {\n      className: styles.manufacturer\n    }, \"Manufacturer: \", manufacturer)), __jsx(\"div\", {\n      className: styles.quantity\n    }, __jsx(\"table\", null, __jsx(\"tbody\", null, __jsx(\"tr\", {\n      className: styles.quantityBtns\n    }, __jsx(\"td\", {\n      className: styles.tdCol,\n      onClick: increaseQuantity(_id)\n    }, __jsx(\"img\", {\n      src: require('../../../assets/images/+.png')\n    })), __jsx(\"td\", {\n      className: styles.tdCol\n    }, product.qty), __jsx(\"td\", {\n      className: styles.tdCol,\n      onClick: decreaseQuantity(_id)\n    }, __jsx(\"img\", {\n      src: require('../../../assets/images/-.png')\n    }))))))), __jsx(\"div\", {\n      className: \"col-md-4 \".concat(styles.priceRequest)\n    }, __jsx(\"button\", {\n      className: styles.btnMatch\n    }, \"PRICE MATCH\"), __jsx(\"img\", {\n      onClick: removeFromCart(_id),\n      src: require('../../../assets/images/remove-cart.png'),\n      alt: \"remove-cart\"\n    }), __jsx(\"div\", {\n      className: styles.price\n    }, __jsx(\"b\", {\n      className: styles.discount\n    }, \"\\u20B9\", (price - discountPrice).toFixed(2)), __jsx(\"span\", {\n      className: styles.original\n    }, \"MRP \\u20B9\", price)))), __jsx(\"hr\", null));\n  }) : __jsx(\"div\", null, __jsx(\"p\", null, \"Your Cart is Empty\"), __jsx(\"p\", null, \"Please Add products to the cart\"))), __jsx(\"div\", {\n    className: \"col-md-4\"\n  }, __jsx(OrderSummary, {\n    total: total,\n    savedAmount: savedAmount\n  })));\n}\n\nexport default MedicineDetail;","map":null,"metadata":{},"sourceType":"module"}