{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useRouter } from 'next/router';\nimport styles from './AllProduct.module.scss';\n\nfunction AllProduct() {\n  var _useState = useState(['Diabetes (12)', 'Eye Care (16)', 'Baby Care (28)', 'Mind Care (12)', 'Kidney Care (15)', 'Stomach Care (18)', 'Immunity Booster (4)', 'Respiratory Care (12)']),\n      categories = _useState[0],\n      setCategories = _useState[1];\n\n  var _useState2 = useState(['Organic India (3)', 'Smart Air Fileters (4)', 'Venus (3)', 'Ansell (3)', 'Cipla (2)', 'Phzer (2)', 'BYD (6)', 'Beurer (2)']),\n      brands = _useState2[0],\n      setBrands = _useState2[1];\n\n  var _useState3 = useState(['Less than 10%', '10% and above', '20% and above', '30% and above']),\n      discount = _useState3[0],\n      setDiscount = _useState3[1];\n\n  var _useState4 = useState(['5mg', '10mg', '100g', '200g', '500g', '1000g']),\n      capacity = _useState4[0],\n      setCapacity = _useState4[1];\n\n  var _useState5 = useState([]),\n      products = _useState5[0],\n      setProducts = _useState5[1];\n\n  var _useState6 = useState([]),\n      cartList = _useState6[0],\n      setCartList = _useState6[1];\n\n  var router = useRouter();\n  useEffect(function () {\n    function fetchProducts() {\n      return _fetchProducts.apply(this, arguments);\n    }\n\n    function _fetchProducts() {\n      _fetchProducts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var api;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                api = 'http://180.151.69.138:2258/api/v1/product';\n                _context.next = 3;\n                return axios.get(api).then(function (res) {\n                  setProducts(res.data.data.list);\n                  console.log(products);\n                });\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _fetchProducts.apply(this, arguments);\n    }\n\n    fetchProducts();\n  }, []);\n\n  var addToCart = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(product) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              document.getElementById('cart-count').innerText = cartList ? cartList.length : 0;\n              console.log(product);\n              product.addedToCart = true;\n              _context2.next = 5;\n              return setCartList([].concat(_toConsumableArray(cartList), [product]));\n\n            case 5:\n              localStorage.setItem('cartList', JSON.stringify(cartList));\n              console.log(cartList);\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function addToCart(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-md-3\"\n  }, __jsx(\"div\", {\n    className: styles.categoryBorder\n  }, __jsx(\"div\", {\n    className: styles.categoryTitle\n  }, __jsx(\"b\", null, \"Categories\")), categories.map(function (value, index) {\n    return __jsx(\"div\", {\n      key: index,\n      className: styles.checkboxLabel\n    }, __jsx(\"input\", {\n      type: \"checkbox\",\n      className: styles.customCheckbox\n    }), __jsx(\"span\", null, value));\n  })), __jsx(\"div\", {\n    className: styles.categoryBorder\n  }, __jsx(\"div\", {\n    className: styles.categoryTitle\n  }, __jsx(\"b\", null, \"Brands\")), brands.map(function (value, index) {\n    return __jsx(\"div\", {\n      key: index,\n      className: styles.checkboxLabel\n    }, __jsx(\"input\", {\n      type: \"checkbox\",\n      className: styles.customCheckbox\n    }), __jsx(\"span\", null, value));\n  })), __jsx(\"div\", {\n    className: styles.categoryBorder\n  }, __jsx(\"div\", {\n    className: styles.categoryTitle\n  }, __jsx(\"b\", null, \"Discout\")), discount.map(function (value, index) {\n    return __jsx(\"div\", {\n      key: index,\n      className: styles.checkboxLabel\n    }, __jsx(\"input\", {\n      type: \"checkbox\",\n      className: styles.customCheckbox\n    }), __jsx(\"span\", null, value));\n  })), __jsx(\"div\", {\n    className: styles.categoryBorder\n  }, __jsx(\"div\", {\n    className: styles.categoryTitle\n  }, __jsx(\"b\", null, \"Capacity\")), capacity.map(function (value, index) {\n    return __jsx(\"div\", {\n      key: index,\n      className: styles.checkboxLabel\n    }, __jsx(\"input\", {\n      type: \"checkbox\",\n      className: styles.customCheckbox\n    }), __jsx(\"span\", null, value));\n  }))), __jsx(\"div\", {\n    className: \"col-md-9\"\n  }, __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-md-6 \".concat(styles.menu)\n  }, __jsx(\"img\", {\n    src: require('../../../assets/images/menu.png')\n  }), __jsx(\"img\", {\n    src: require('../../../assets/images/list.png')\n  })), __jsx(\"div\", {\n    className: \"col-md-6\"\n  }, __jsx(\"div\", {\n    className: styles.sortDropdown\n  }, __jsx(\"select\", null, __jsx(\"option\", null, \"Sorting By Popularity\"))))), __jsx(\"div\", {\n    className: \"row\"\n  }, products.map(function (product, index) {\n    var id = product.id,\n        medicineName = product.medicineName,\n        manufacturer = product.manufacturer,\n        price = product.price,\n        discountPrice = product.discountPrice,\n        PAP = product.PAP,\n        discountPercentage = product.discountPercentage,\n        _product$addedToCart = product.addedToCart,\n        addedToCart = _product$addedToCart === void 0 ? false : _product$addedToCart;\n    return __jsx(\"div\", {\n      className: \"col-md-4\",\n      key: index\n    }, __jsx(\"div\", {\n      className: styles.bottom\n    }, __jsx(\"div\", {\n      className: styles.image,\n      onClick: function onClick() {\n        return router.push('/SingleProduct');\n      }\n    }, __jsx(\"div\", {\n      className: styles.offerBadge\n    }, __jsx(\"b\", null, discountPercentage, \"%\")), __jsx(\"img\", {\n      src: require('../../../assets/images/product-3.png')\n    })), __jsx(\"div\", {\n      className: styles.category\n    }, __jsx(\"span\", null, \"Diabetes\"), __jsx(\"div\", {\n      className: styles.right\n    }, __jsx(\"span\", null, \"1\"))), __jsx(\"b\", {\n      className: styles.name\n    }, medicineName), PAP && __jsx(\"img\", {\n      className: styles.prescriptionImg,\n      src: require('../../../assets/images/prescription.png')\n    }), __jsx(\"br\", null), __jsx(\"span\", {\n      className: styles.company\n    }, \"Manufacturer: \", manufacturer), __jsx(\"hr\", null), __jsx(\"b\", {\n      className: styles.discountPrice\n    }, \"\\u20B9 \", (price - discountPrice).toFixed(2)), __jsx(\"span\", {\n      className: styles.actualPrice\n    }, \"MRP \\u20B9 \", price), __jsx(\"div\", {\n      className: styles.right\n    }, addedToCart ? __jsx(\"button\", {\n      key: id,\n      className: styles.btnAdded\n    }, \"\\u2713\") : __jsx(\"button\", {\n      className: styles.btnAdd,\n      onClick: function onClick() {\n        return addToCart(product);\n      }\n    }, \"+\"))));\n  }))));\n}\n\nexport default AllProduct;","map":null,"metadata":{},"sourceType":"module"}