{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState } from 'react';\nimport RegConfirmation from '../../ImportedMedicineForm/RegConformation/index';\nimport styles from './PapForm.module.scss';\nimport { medplans_url } from '../../../apiVariables';\n\nfunction PapForm(props) {\n  const {\n    0: modal,\n    1: setModal\n  } = useState(false);\n  const {\n    0: papRegisterData,\n    1: setPapRegisterData\n  } = useState({\n    userId: \"23\",\n    name: \"\",\n    phone: \"\",\n    email: \"\",\n    medicineDetails: \"\",\n    //quantity: \"\",\n    callTime: \"\",\n    message: \"\",\n    status: 0\n  });\n\n  const toggle = () => {\n    setModal({\n      modal: !modal\n    });\n  };\n\n  const onChangeForm = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setPapRegisterData(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    let url = `${medplans_url}/pap`;\n    let data = papRegisterData;\n    let res = await httpPostRequest(url, data);\n    console.log(res);\n\n    if (res.status === 200) {\n      toggle();\n    }\n\n    setPapRegisterData({\n      papRegisterData: {\n        name: '',\n        medicineDetails: '',\n        phone: '',\n        // quantity:'',\n        email: '',\n        callTime: '',\n        message: ''\n      }\n    });\n  };\n\n  const httpPostRequest = async (url, body) => {\n    console.log(body);\n    let result = await fetch(url, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(body)\n    });\n    return await result;\n  };\n\n  return __jsx(\"div\", {\n    className: styles.registerBox\n  }, __jsx(\"div\", {\n    className: styles.patientRegister\n  }, __jsx(\"b\", null, \"Register for Patient Assistance Programme\")), __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    method: \"post\"\n  }, __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-md-4\"\n  }, __jsx(\"div\", {\n    className: styles.inputField\n  }, __jsx(\"div\", {\n    className: styles.registerLabel\n  }, __jsx(\"span\", null, \"Patient Name\")), __jsx(\"input\", {\n    name: \"name\",\n    className: styles.registerField,\n    type: \"text\",\n    placeholder: \"Enter here\",\n    value: papRegisterData['name'],\n    onChange: e => onChangeForm(e),\n    required: true\n  }))), __jsx(\"div\", {\n    className: \"col-md-4\"\n  }, __jsx(\"div\", {\n    className: styles.inputField\n  }, __jsx(\"div\", {\n    className: styles.registerLabel\n  }, __jsx(\"span\", null, \"Phone Number\")), __jsx(\"input\", {\n    name: \"phone\",\n    className: styles.registerField,\n    type: \"text\",\n    placeholder: \"Enter here\",\n    value: papRegisterData['phone'],\n    onChange: e => onChangeForm(e),\n    required: true\n  }))), __jsx(\"div\", {\n    className: \"col-md-4\"\n  }, __jsx(\"div\", {\n    className: styles.inputField\n  }, __jsx(\"div\", {\n    className: styles.registerLabel\n  }, __jsx(\"span\", null, \"Email\")), __jsx(\"input\", {\n    name: \"email\",\n    className: styles.registerField,\n    type: \"email\",\n    placeholder: \"Enter here\",\n    value: papRegisterData['email'],\n    onChange: e => onChangeForm(e),\n    required: true\n  })))), __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-md-6\"\n  }, __jsx(\"div\", {\n    className: styles.inputField\n  }, __jsx(\"div\", {\n    className: styles.registerLabel\n  }, __jsx(\"span\", null, \"Medicine Details\")), __jsx(\"input\", {\n    name: \"medicineDetails\",\n    className: styles.registerField,\n    type: \"text\",\n    placeholder: \"Enter here\",\n    value: papRegisterData['medicineDetails'],\n    onChange: e => onChangeForm(e),\n    required: true\n  }))), __jsx(\"div\", {\n    className: \"col-md-6\"\n  }, __jsx(\"div\", {\n    className: styles.inputField\n  }, __jsx(\"div\", {\n    className: styles.registerLabel\n  }, __jsx(\"span\", null, \"Preferable Call Time\")), __jsx(\"input\", {\n    name: \"callTime\",\n    className: styles.registerField,\n    type: \"text\",\n    value: papRegisterData['callTime'],\n    onChange: e => onChangeForm(e),\n    placeholder: \"Enter here\",\n    required: true\n  })))), __jsx(\"div\", {\n    className: styles.inputField\n  }, __jsx(\"div\", {\n    className: styles.registerLabel\n  }, __jsx(\"span\", null, \"Message\")), __jsx(\"textarea\", {\n    name: \"message\",\n    className: styles.textField,\n    type: \"text\",\n    value: papRegisterData['message'],\n    onChange: e => onChangeForm(e),\n    placeholder: \"Enter here\",\n    required: true\n  })), __jsx(\"button\", {\n    className: styles.btnRegister\n  }, __jsx(\"b\", null, \"ENQUIRE\"))), __jsx(RegConfirmation, {\n    modal: modal,\n    toggle: toggle\n  }));\n}\n\nexport default PapForm;","map":null,"metadata":{},"sourceType":"module"}